---
layout: post
title: "Jekyll + GitHub Pages 系统搭建指南"
date: 2025-01-28
categories: [技术]
tags: [Jekyll, GitHub Pages, RSS, 静态网站]
description: "从第一性原理解释如何搭建 Markdown → HTML + RSS 的自动化系统"
---

# Jekyll + GitHub Pages 系统搭建指南

## 系统架构的第一性原理

### 1. 静态网站的本质

静态网站就是一组纯文件（HTML/CSS/JS/XML/图片）。浏览器通过 HTTP 协议下载这些文件并渲染成页面。只要你能把这些文件放到一个公开的 URL 上，它就是一个网站。

**关键理解**：网站 = 文件 + HTTP 访问

### 2. 为什么需要静态生成器？

Markdown 不是浏览器能直接展示的页面格式，所以需要一个生成器把 Markdown 转换为 HTML。同理，RSS 是 XML 格式，需要把文章数据聚合生成 feed.xml。

**转换流程**：
```
Markdown + 模板 → Jekyll 处理 → HTML 页面
文章数据 → jekyll-feed 处理 → RSS XML
```

### 3. 自动化触发机制

当仓库发生变更（你 push 新的 Markdown），GitHub Pages 的构建任务被触发，重新把 Markdown 编译成 HTML 和 RSS，然后部署到线上。结果就是订阅器和读者看到更新。

## 核心组件详解

### GitHub 仓库（数据源）

仓库是文件的权威源（source of truth）。任何网页或 RSS 的最终产物，都由仓库里的原始文本（Markdown）通过确定性的构建过程生成。

**版本控制的价值**：
- 保证可回滚
- 可审计的变更历史
- 让部署和生成可重复、可验证

### GitHub Pages（托管服务）

GitHub Pages 就是 GitHub 自己托管的一个静态文件服务器，它会把你仓库中构建出的产物暴露在 `https://用户名.github.io/仓库名/`。

**你无需自建服务器**，因为 GitHub 已经替你完成：
- 域名解析
- HTTPS 证书
- 静态文件分发
- CDN 加速

### Jekyll（静态生成器）

Jekyll 读取每篇 Markdown 的正文 + 元数据（front matter），套用模板，输出稳定的 HTML。

**目录约定即协议**：
- `_posts/` 目录 + 文件命名规则就是"数据模型"
- Jekyll 据此确定文章的"时间/标题/URL"
- 构建出文章列表、归档和单页

## 文件命名与 Front Matter

### 为什么文件名要包含日期？

构建器需要一个可解析的时间戳来排序与生成永久链接（按时间归档）。最稳妥、无需外部数据库的方法，就是把日期编码进文件名。

**文件名是最原始、最可靠的元数据容器**

### Front Matter 的作用

Markdown 本身只有正文，没有标题、布局、标签等结构化字段。Front Matter 是在纯文本里嵌入键值对元数据的简单方法（YAML），构建器就能在"无数据库环境"下理解页面的"语义"。

```yaml
---
layout: post
title: "文章标题"
date: 2025-01-28
categories: [分类]
tags: [标签1, 标签2]
description: "文章描述"
---
```

## RSS 生成原理

### jekyll-feed 插件的工作机制

1. **订阅器需要结构化"增量数据"**：RSS 的 `<channel><item>` 就是"文章集合 + 单条记录"
2. **包含必要字段**：title/link/date/summary/guid 等
3. **订阅器判断更新**：按 pubDate/guid 判断"这是新的一条还是旧的"

### 无数据库条件下的聚合

jekyll-feed 在构建时遍历站点已知文章的元信息，聚合成 XML。因为站点所有内容都来自仓库，所以遍历文件系统就能得到完整索引，无需后端数据库。

### 机器可读性

RSS 使用标准时间格式（RFC822）、固定标签，使 Readwise 等订阅器无需"猜测"，直接解析。

## 推送即更新流程

### 事件驱动构建

1. **Push 事件触发**：GitHub Pages/Actions 检出仓库
2. **运行 Jekyll**：生成 HTML 与 feed.xml
3. **发布到 Pages**：静态目录更新

### 无状态部署的优势

每次都从源码全量生成，避免"环境腐化"或历史脏数据。这使得线上内容总是源码的函数式输出。

## RSS 订阅机制

### 拉取模型（Pull Model）

- 订阅器定时拉取你的 feed.xml
- 对比 guid/pubDate，新增即显示为"未读"
- 发布者不需要知道读者是谁
- 读者也不需要访问整个网站，只读 feed 即可

这保证了扩展性与隐私。

## 总结

这个系统的核心价值在于：

1. **简单性**：只需写 Markdown，其他全自动
2. **可靠性**：基于版本控制的确定性构建
3. **可扩展性**：GitHub 的基础设施保证性能
4. **开放性**：RSS 标准保证广泛的兼容性

通过理解这些第一性原理，你可以更好地维护和扩展这个系统。
